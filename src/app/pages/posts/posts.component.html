<div class="bg-black text-slate-200 flex flex-col h-full min-h-screen w-100 py-10">
    <div class="mx-auto max-w-screen-sm flex flex-col w-screen gap-5 px-5">
        <div class="flex gap-2 items-center">
            <a routerLink="/" class="flex items-center cursor-pointer">
                <ng-icon name="octArrowLeft" class="text-3xl"></ng-icon>
            </a>
            <img src="https://styles.redditmedia.com/t5_38ilc/styles/communityIcon_n3tkf538pvo11.jpg"
                class="w-9 h-9 rounded-full" alt="">
            <div class="opacity-70 font-bold">r/investimentos</div>
            <div class="opacity-70">â€¢</div>
            <div class="opacity-70">#{{ publication?.id }}</div>
        </div>
        <div class="flex gap-5 flex-col">
            <h3 class="font-bold">
                {{ publication?.title }}
            </h3>
            <p class="text-sm break-all w-full">
                {{ publication?.body }}
            </p>
            <app-card-post-footer *ngIf="publication" [publication]="publication"></app-card-post-footer>
            <hr class="border-gray-700 my-5">
        </div>

        <div id="comments-section">
            <textarea [formControl]="newComment" type="textarea" placeholder="Add a comment"
            class="w-full py-3 px-4 bg-black border border-gray-600 rounded-lg shadow-sm focus:outline-none focus:border-blue-500 resize-none overflow-hidden duration-0"
            rows="1" (input)="autoGrowTextHeight($event)"></textarea>
        <button [disabled]="!newComment.valid" [style.opacity]="newComment.valid ? 1 : 0"
            (click)="submitForm()" class="flex">Publish</button>
        </div>

        <!-- If dont have comments display msg -->
        <div *ngIf="comments === undefined || comments?.length === 0" class="flex justify-center items-center h-40">
            <div class="opacity-70">No comments yet</div>
        </div>

        <div *ngFor="let comment of comments" class="flex gap-3 flex-col w-full">
            <app-post-comment [comment]="comment"></app-post-comment>
        </div>
    </div>
</div>
